<!DOCTYPE html>
<html dir="ltr" lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords"
        content="wrappixel, admin dashboard, html css dashboard, web dashboard, bootstrap 5 admin, bootstrap 5, css3 dashboard, bootstrap 5 dashboard, Nice lite admin bootstrap 5 dashboard, frontend, responsive bootstrap 5 admin template, Nice admin lite design, Nice admin lite dashboard bootstrap 5 dashboard template">
    <meta name="description"
        content="Nice Admin Lite is powerful and clean admin dashboard template, inpired from Bootstrap Framework">
    <meta name="robots" content="noindex,nofollow">
    <title>Dashboard</title>
    <link rel="canonical" href="https://www.wrappixel.com/templates/niceadmin-lite/" />
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" href="./assets/images/favicon.png">
    <!-- Custom CSS -->
    <link href="./assets/libs/chartist/dist/chartist.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="./dist/css/style.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>

    <title>Sales Ratio Graph</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.5.1"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    
<![endif]-->

    <style>
        .side-bar {
            background: linear-gradient(82deg, #233242, #233242) !important;
        }

        .sidebarnav-color {
            background: linear-gradient(82deg, #233242, #233242) !important;
        }

        .navbar-brand {
            background: linear-gradient(82deg, #233242, #233242) !important;
        }

        .opecity-change {
            opacity: 1 !important;
        }

        .button-color {
            display: inline-block;
            position: right;
            background-color: #AAA;
            background-image: linear-gradient(
                    /* chrome */
                    hsla(0, 0%, 100%, 0.6), hsla(0, 0%, 100%, 0) 50%, hsla(0, 0%, 0%, 0.3) 50%, hsla(0, 0%, 100%, 0.2));
            font-size: 12px;
            font-family: sans-serif;
            font-weight: bold;
            color: white;
            padding: 10px 30px;
            text-shadow: 0 0 15px hsla(0, 0%, 100%, 1),
                /* bloom */
                0 2px 4px hsla(0, 0%, 0%, 0.7);
            border: none;
            border-radius: 40px;
            margin: 5px;
            box-shadow: inset 0 -5px 20px hsla(0, 0%, 0%, 0.4),
                /* top light */
                inset 0 5px 20px hsla(0, 0%, 100%, 0.4),
                /* bottom shadow */
                /* multiple light sources yall */
                -8px 8px 5px hsla(0, 0%, 0%, 0.15),
                /* drop shadow 1 */
                5px 18px 10px hsla(0, 0%, 0%, 0.2);
            cursor: pointer;
            transition: transform 0.1s, box-shadow 0.1s;

            background-color: #233242;
        }

        .table>thead {
            vertical-align: bottom;
        }


        .table td,
        .table th {
            padding: 0.2rem;

        }


        .ag-format-container {
            width: 1142px;
            margin: 0 auto;
        }


        body {
            background-color: #000;
        }

        .ag-courses_box {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-align: start;
            -ms-flex-align: start;
            align-items: flex-start;
            -ms-flex-wrap: wrap;
            flex-wrap: wrap;

            padding: 50px 0;
        }

       

        .ag-courses_item {
            -ms-flex-preferred-size: calc(33.33333% - 30px);
            flex-basis: calc(33.33333% - 30px);

            margin: 0 15px 30px;

            overflow: hidden;

            border-radius: 28px;
        }

        .ag-courses-item_link {
            display: block;
            padding: 23px 23px;
            background-color: #233242;

            overflow: hidden;

            position: relative;
        }

        .ag-courses-item_link:hover,
        .ag-courses-item_link:hover .ag-courses-item_date {
            text-decoration: none;
            color: #FFF;
        }

        .ag-courses-item_link:hover .ag-courses-item_bg {
            -webkit-transform: scale(10);
            -ms-transform: scale(10);
            transform: scale(10);
        }

        .ag-courses-item_title {
            min-height: 67px;
            margin: 0 0 14px;
            overflow: hidden;
            font-weight: bold;
            font-size: 20px;
            color: #FFF;
            z-index: 2;
            position: relative;
        }

        .ag-courses-item_date-box {
            font-size: 18px;
            color: #FFF;

            z-index: 2;
            position: relative;
        }

        .ag-courses-item_date {
            font-weight: bold;
            color: #f9b234;

            -webkit-transition: color .5s ease;
            -o-transition: color .5s ease;
            transition: color .5s ease
        }

        .ag-courses-item_bg {
            height: 128px;
            width: 128px;
            background-color: #4c49ea;

            z-index: 1;
            position: absolute;
            top: -75px;
            right: -75px;

            border-radius: 50%;

            -webkit-transition: all .5s ease;
            -o-transition: all .5s ease;
            transition: all .5s ease;
        }

        /* .ag-courses_item:nth-child(2n) .ag-courses-item_bg {
  background-color: #3ecd5e;
}
.ag-courses_item:nth-child(3n) .ag-courses-item_bg {
  background-color: #e44002;
}
.ag-courses_item:nth-child(4n) .ag-courses-item_bg {
  background-color: #952aff;
}
.ag-courses_item:nth-child(5n) .ag-courses-item_bg {
  background-color: #cd3e94;
} */
        .ag-courses_item:nth-child(6n) .ag-courses-item_bg {
            background-color: #4c49ea;
        }



        @media only screen and (max-width: 979px) {
            .ag-courses_item {
                -ms-flex-preferred-size: calc(50% - 30px);
                flex-basis: calc(50% - 30px);
            }

            .ag-courses-item_title {
                font-size: 24px;
            }
        }

        @media only screen and (max-width: 767px) {
            .ag-format-container {
                width: 96%;
            }

        }

        @media only screen and (max-width: 639px) {
            .ag-courses_item {
                -ms-flex-preferred-size: 100%;
                flex-basis: 100%;
            }

            .ag-courses-item_title {
                min-height: 72px;
                line-height: 1;

                font-size: 24px;
            }

            .ag-courses-item_link {
                padding: 22px 40px;
            }

            .ag-courses-item_date-box {
                font-size: 13px;
            }
        }

        /* .manaulBgClass
{
   
background-image: linear-gradient(315deg, #e056fd 0%, #000000 74%);
} */
    </style>



    <style>
        .approved_css,
        .ct-series-a {
            fill: #c87fc5;
            stroke: #c87fc5;

            stroke-width: 3.5;


        }

        

        .card-body {
            padding: 1.25rem;

        }

        .card-body {
            -webkit-box-flex: 1;
            -ms-flex: 1 1 auto;
            flex: 1 1 auto;
            padding: 1rem 1rem;
        }

        * {
            outline: none;
        }

        *,
        :after,
        :before {
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
        }

        user agent stylesheet div {
            display: block;
        }

        .card {

            border-radius: 25px;
        }

        .declined_css,
        .ct-series-b {
            fill: #0a417a;
            stroke: #0a417a;
            stroke-width: 2px;

        }

        .text-muted {
            color: grey;
            font-size: 25px;
        }

        .pending_css,
        .ct-series-c {
            fill: #7a1a57;

            stroke: #7a1a57;
            stroke-width: 2px;

        }

        element.style {}

        .card .card-title {
            position: relative;
            font-weight: 400;
            margin-bottom: 5px;
            font-size: 25px;
        }

        .card .card-title {
            position: relative;
            font-weight: 400;
            margin-bottom: 10px;
        }

        .mb-0 {
            margin-bottom: 0 !important;
        }

        .card-title {
            margin-bottom: 0.5rem;
        }

        .h4,
        h4 {
            font-size: 1.125rem;
        }

        .h1,
        .h2,
        .h3,
        .h4,
        .h5,
        .h6,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            margin-top: 0;
            margin-bottom: 0.5rem;
            font-weight: 400;
            line-height: 1.2;
            color: inherit;
        }

        *,
        :after,
        :before {
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
        }

        * {
            outline: none;
        }

        * {
            outline: none;
        }

        *,
        :after,
        :before {
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
        }

        /* user agent stylesheet */
        h4 {
            display: block;
            margin-block-start: 1.33em;
            margin-block-end: 1.33em;
            margin-inline-start: 0px;
            margin-inline-end: 0px;
            font-weight: bold;
        }

        .card {
            position: relative;
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -webkit-box-orient: vertical;
            -webkit-box-direction: normal;
            -ms-flex-direction: column;
            flex-direction: column;
            min-width: 0;
            word-wrap: break-word;
            background-color: #fff;
            background-clip: border-box;
            border: 0px solid transparent;
            border-radius: 0px;
        }

        body {
            margin: 0;
            overflow-x: hidden;
            color: black;
            background: #fff;
        }

        /* Add label styles */
        .legend {
            display: flex;
            /* flex-direction: column; */
            align-items: center;
            justify-content: space-evenly;
            padding-bottom: 20px;
        }

        .label {
            font-size: 14px;
            font-weight: bold;
            margin-left: 10px;
            color: black;
        }

        .table thead th {
            color: black;
            font-weight: 500;
        }

        .table td,
        .table th {
            padding: 1rem;
            color: #454545;
        }

        .page-breadcrumb .page-title {

            font-size: 30px;
        }

        .card .card-title {
            position: relative;
            font-weight: 400;
            margin-bottom: 5px;
            font-size: 25px;
        }

        .fa-check:before {
            content: "\f00c";
            position: relative;
            left: -133px;
            top: 21px;
            color: green;
        }

        .fa-close:before {

            position: relative;
            left: -133px;
            top: 21px;
            color: red;
        }

        .demo1 {
            position: relative;
            left: -85px;

        }

        .card-body1 {
            height: 390px;
        }
    
    
    .card-body1 {
        height:390px;
    }
    
    .btn-success {
        background-color: green;
        padding: auto;
        color: white;
    }
    
    .btn-danger {
        background-color: red;
        color: white;
    }
    
    .btn-warning {
        background-color: yellow;
        color: black;
    }
    
</style>
</head>

<body>

    <!-- ==============================================================+++================-->
    <!-- Preloader - style you can find in spinners.css -->
    <!-- ============================================================== -->
    <div class="preloader">
        <div class="lds-ripple">
            <div class="lds-pos"></div>
            <div class="lds-pos"></div>
        </div>
    </div>
    <!-- ============================================================== -->
    <!-- Main wrapper - style you can find in pages.scss -->
    <!-- ============================================================== -->
    <div id="main-wrapper" data-navbarbg="skin6" data-theme="light" data-layout="vertical" data-sidebartype="full"
        data-boxed-layout="full">
        <!-- ============================================================== -->
        <!-- Topbar header - style you can find in pages.scss -->
        <!-- ============================================================== -->
        <header class="topbar" data-navbarbg="skin6">
            <nav class="navbar top-navbar navbar-expand-md navbar-light">
                <div class="navbar-header" data-logobg="skin5">
                    <!-- This is for the sidebar toggle which is visible on mobile only -->
                    <a class="nav-toggler waves-effect waves-light d-block d-md-none" href="javascript:void(0)">
                        <i class="ti-menu ti-close"></i>
                    </a>
                    <!-- ============================================================== -->
                    <!-- Logo -->
                    <!-- ============================================================== -->
                    <div class="navbar-brand">
                        <a href="index.html" class="logo">
                            <!-- Logo icon -->
                            <b class="logo-icon">
                                <!--You can put here icon as well // <i class="wi wi-sunset"></i> //-->
                                <!-- Dark Logo icon -->
                                <img src="./assets/images/logo-icon.png" alt="homepage" class="dark-logo" />
                                <!-- Light Logo icon -->
                                <img src="./assets/images/logo-light-icon.png" alt="homepage" class="light-logo" />
                            </b>
                            <!--End Logo icon -->
                            <!-- Logo text -->
                            <span class="logo-text">
                                <!-- dark Logo text -->
                                <img src="./assets/images/logo-text.png" alt="homepage" class="dark-logo" />
                                <!-- Light Logo text -->
                                <img src="./assets/images/logo-light-text.png" class="light-logo" alt="homepage" />
                            </span>
                        </a>
                    </div>
                    <!-- ============================================================== -->
                    <!-- End Logo -->
                    <!-- ============================================================== -->
                    <!-- ============================================================== -->
                    <!-- Toggle which is visible on mobile only -->
                    <!-- ============================================================== -->

                </div>
                <!-- ============================================================== -->
                <!-- End Logo -->
                <!-- ============================================================== -->
                <div class="navbar-collapse collapse" id="navbarSupportedContent" data-navbarbg="skin6">
                    <!-- ============================================================== -->
                    <!-- toggle and nav items -->
                    <!-- ============================================================== -->
                    <ul class="navbar-nav float-start me-auto">
                        <!-- ============================================================== -->
                        <!-- Search -->
                        <!-- ============================================================== -->

                    </ul>
                    <!-- ============================================================== -->
                    <!-- Right side toggle and nav items -->
                    <!-- ============================================================== -->
                    <ul class="navbar-nav float-end">
                        <div class="text-right">
                            <button id="logoutButton" class="button-color">Log Out</button>
                        </div>

                    </ul>
                </div>
            </nav>
        </header>
        <!-- ============================================================== -->
        <!-- End Topbar header -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- Left Sidebar - style you can find in sidebar.scss  -->
        <!-- ============================================================== -->
        <aside class="left-sidebar side-bar" data-sidebarbg="skin5">
            <!-- Sidebar scroll-->
            <div class="scroll-sidebar">
                <!-- Sidebar navigation-->
                <nav class="sidebar-nav">
                    <ul id="sidebarnav" class="sidebarnav-color">
                        <li class="sidebar-item">
                            <a class="sidebar-link waves-effect waves-dark sidebar-link" href="index.html"
                                aria-expanded="false" style="opacity: unset;">
                                <i class="mdi mdi-av-timer"></i>
                                <span class="hide-menu">Dashboard</span>
                            </a>
                        </li>

                        <li class="sidebar-item">
                            <a class="sidebar-link waves-effect waves-dark sidebar-link" href="pages-profile.html"
                                aria-expanded="false">
                                <i class="mdi mdi-account-network"></i>
                                <span class="hide-menu">Profile</span>
                            </a>
                        </li>

                        <li class="sidebar-item">
                            <a class="sidebar-link waves-effect waves-dark sidebar-link" href="table-basic.html"
                                aria-expanded="false">
                                <i class="mdi mdi-border-none"></i>
                                <span class="hide-menu">Lead Table</span>
                            </a>
                        </li>
                        <li class="sidebar-item">
                            <a class="sidebar-link waves-effect waves-dark sidebar-link" href="table-loan.html"
                                aria-expanded="false">
                                <i class="mdi mdi-border-none"></i>
                                <span class="hide-menu">Loan Table</span>
                            </a>
                        </li>

                        <!-- <li class="sidebar-item">
                            <a class="sidebarjhj-link waves-effect waves-dark sidebar-link" href="icon-material.html"
                                aria-expanded="false">
                                <i class="mdi mdi-face"></i>
                                <span class="hide-menu">Icon</span>
                            </a>
                        </li> -->
                        <!-- <li class="sidebar-item">
                            <a class="sidebar-link waves-effect waves-dark sidebar-link" href="starter-kit.html"
                                aria-expanded="false">
                                <i class="mdi mdi-file"></i>
                                <span class="hide-menu">Blank</span>
                            </a>
                        </li> -->
                        <!-- <li class="sidebar-item">
                            <a class="sidebar-link waves-effect waves-dark sidebar-link" href="error-404.html"
                                aria-expanded="false">
                                <i class="mdi mdi-alert-outline"></i>
                                <span class="hide-menu">404</span>
                            </a>
                        </li> -->
                    </ul>
                </nav>
                <!-- End Sidebar navigation -->
            </div>
            <!-- End Sidebar scroll-->
        </aside>
        <!-- ============================================================== -->
        <!-- End Left Sidebar - style you can find in sidebar.scss  -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- Page wrapper  -->
        <!-- ============================================================== -->
        <div class="page-wrapper manaulBgClass">
            <!-- ============================================================== -->
            <!-- Bread crumb and right sidebar toggle -->
            <!-- ============================================================== -->
            <div class="page-breadcrumb ">
                <div class="row">
                    <div class="col-5 align-self-center ">
                        <h4 class="page-title">Dashboard</h4>
                    </div>
                    <div class="col-7 align-self-center">

                    </div>
                </div>
            </div>
            <!-- ============================================================== -->
            <!-- End Bread crumb and right sidebar toggle -->
            <!-- ============================================================== -->
            <!-- ============================================================== -->
            <!-- Container fluid  -->
            <!-- ============================================================== -->
            <div class="container-fluid">
                <!-- ============================================================== -->
                <!-- Email campaign chart -->
                <!-- ============================================================== -->
                <div class="row">
                    <div class="col-lg-8">
                        <div class="card">
                            <div class="card-body">
                                <h4 class="card-title">Sales Ratio</h4>
                                <div class="sales ct-charts mt-3" id="lead-graph">


                                </div>

                            </div>
                            <div>
                                <div class="legend">
                                    <span class="approved_css ct-series-a">
                                        <svg width="16" height="16">
                                            <circle cx="8" cy="8" r="6" />
                                        </svg>
                                        <span class="label">Approved</span>
                                    </span>

                                    <span class="declined_css ct-series-b">
                                        <svg width="16" height="16">
                                            <circle cx="8" cy="8" r="6" />
                                        </svg>
                                        <span class="label">Declined</span>
                                    </span>

                                    <span class="pending_css ct-series-c">
                                        <svg width="16" height="16">
                                            <circle cx="8" cy="8" r="6" />
                                        </svg>
                                        <span class="label">Pending</span>
                                    </span>
                                </div>
                            </div>

                        </div>

                    </div>
                    <!-- <div class="col-lg-4">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title mb-1">Total Leads</h5>
                                <h3 class="font-light" id="lead-count">Loading...</h3>
                                <div class="mt-3 text-center">
                                    <div id="lead-count-container"></div>
                                </div>
                            </div>
                        </div>
                    </div> -->
                    <!-- <div class="col-lg-4">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title mb-1">Total Loan Inquiries</h5>
                                <h3 class="font-light" id="loan-count">Loading...</h3>
                                <div class="mt-3 text-center">
                                    <div id="loan-count-container"></div>
                                </div>
                            </div>
                        </div>
                    
                </div> -->
                    <div class="col-lg-4">
                        <!-- <div class="card">
                          <div class="card-body1">
                            <h4 class="card-title mb-0">Total Converted Leads</h4>
                            <h2 class="font-light"  id="lead-count">Loading...</h2>
                            <div class="mt-4 text-center">
                              <div id="lead-count-container">
                                <span class="approved_css">
                                    
                                        <i class="fa fa-check"aria-hidden="true"></i>
                                    
                                    <p class="demo1">Approved: <span  id="Approved-count">Loading...</span></p>
                                </span>
                                <span class="approved_css">
                                    
                                    <i class="fa fa-close"aria-hidden="true"></i>
                                
                                    <p class="demo1">Declined: <span id="Declined-count">Loading...</span></p>
                            </span>
                                
                            </div>
                            </div>
                        
                    
                    
                            <h4 class="card-title mb-0">Total Loan Inquiries</h4>
                            <h2 class="font-light" id="loan-count">Loading...</h2>
                            <div class="mt-4">
                                <div class="row text-center">
                                    <div id="loan-count-container"></div>
                                    <div class="col-6 border-right">
                                        <h4 class="mb-0"id="user-count">Loading...</h4>
                                        <span class="approved_css">
                                    
                                            <i class="fa fa-users" aria-hidden="true"></i>
                                        
                                            <span class="font-14" >Total User</span>
                                    </span>
                                       
                                    </div>
                                   
                                </div>
                            </div>
                        </div>
                    </div> -->

                        <div class="ag-courses_item">
                            <a href="#" class="ag-courses-item_link">
                                <div class="ag-courses-item_bg"></div>

                                <div class="ag-courses-item_title">
                                    Lead Counts
                                    <div class="ag-courses-item_date-box">
                                        Total Converted leads:
                                        <span class="ag-courses-item_date" id="lead-count">
                                            Loading...
                                        </span>
                                    </div>
                                </div>

                                <div class="ag-courses-item_date-box">
                                    Approved :
                                    <span class="ag-courses-item_date" id="Approved-count">
                                        Loading...
                                    </span>
                                </div>
                                <div class="ag-courses-item_date-box">
                                    Declined :
                                    <span class="ag-courses-item_date" id="Declined-count">
                                        Loading...
                                    </span>
                                </div>
                            </a>
                        </div>


                      <div class="ag-courses_item">
                        <a href="#" class="ag-courses-item_link">
                          <div class="ag-courses-item_bg"></div>
                  
                          <div class="ag-courses-item_title">
                            Total Loan Enquiries
                            
                            <div class="ag-courses-item_date-box">
                                Total Enquiries:
                                <span class="ag-courses-item_date" id="loan-count">
                                    Loading...
                                </span>
                              </div>
                          </div>
                  
                          <div class="ag-courses-item_bg"></div>
                  
                          <div class="ag-courses-item_title">
                            Total Registered Users
                            
                            <div class="ag-courses-item_date-box">
                                Total Users:
                                <span class="ag-courses-item_date" id="user-count">
                                    Loading...
                                </span>
                              </div>
                          </div>
                        </a>
                      </div>
                </div>
                <!-- ============================================================== -->
                <!-- Email campaign chart -->
                <!-- ============================================================== -->
                <!-- ============================================================== -->
                <!-- Ravenue - page-view-bounce rate -->
                <!-- ============================================================== -->
                <div class="row">
                    <!-- column -->
                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                                <h4 class="card-title">Latest Customers</h4>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-hover" id="leadTable" >
                                    <thead>
                                        <tr >
                                            
                                            <th>Lead Name</th>
                                           
                                            <th>Loan Type</th>
                                           
                                            <th>Employment Type</th>
                                            <th>Loan Amount</th>
                                            <th>Status</th>
                                            <!-- <th>Created At</th> -->
                                   
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- table rows -->
                                    </tbody>
                                </table>
                                <div class="text-right">
                                    <a href="http://localhost:9000/form/table-basic.html"><button class="button-color">Load More</button></a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ============================================================== -->
                    <!-- Ravenue - page-view-bounce rate -->
                    <!-- ============================================================== -->
                    <!-- ============================================================== -->
                    <!-- Recent comment and chats -->
                    <!-- ============================================================== -->
                    <div class="row">
                        <!-- column -->
                        <div class="col-lg-6">
                            <div class="card">
                                <!-- <div class="card-body">
                                <h4 class="card-title">Recent Comments</h4>
                            </div> -->

                                <!-- Comment Row -->
                                <!-- <div class="d-flex flex-row comment-row mt-0">
                                    <div class="p-2">
                                        <img src="./assets/images/users/1.jpg" alt="user" width="50"
                                            class="rounded-circle">
                                    </div> -->
                                <!-- <div class="comment-text w-100">
                                        <h6 class="font-medium">James Anderson</h6>
                                        <span class="mb-3 d-block">Lorem Ipsum is simply dummy text of the printing
                                            and type setting industry. </span>
                                        <div class="comment-footer">
                                            <span class="text-muted float-end">April 14, 2021</span>
                                            <span class="label label-rounded label-primary">Pending</span>
                                            <span class="action-icons">
                                                <a href="javascript:void(0)">
                                                    <i class="ti-pencil-alt"></i>
                                                </a>
                                                <a href="javascript:void(0)">
                                                    <i class="ti-check"></i>
                                                </a>
                                                <a href="javascript:void(0)">
                                                    <i class="ti-heart"></i>
                                                </a>
                                            </span>
                                        </div>
                                    </div> -->
                            </div>
                            <!-- Comment Row -->
                            <!-- <div class="d-flex flex-row comment-row">
                                    <div class="p-2">
                                        <img src="./assets/images/users/4.jpg" alt="user" width="50"
                                            class="rounded-circle">
                                    </div>
                                    <div class="comment-text active w-100">
                                        <h6 class="font-medium">Michael Jorden</h6>
                                        <span class="mb-3 d-block">Lorem Ipsum is simply dummy text of the printing
                                            and type setting industry. </span>
                                        <div class="comment-footer ">
                                            <span class="text-muted float-end">April 14, 2021</span>
                                            <span class="label label-success label-rounded">Approved</span>
                                            <span class="action-icons active">
                                                <a href="javascript:void(0)">
                                                    <i class="ti-pencil-alt"></i>
                                                </a>
                                                <a href="javascript:void(0)">
                                                    <i class="icon-close"></i>
                                                </a>
                                                <a href="javascript:void(0)">
                                                    <i class="ti-heart text-danger"></i>
                                                </a>
                                            </span>
                                        </div>
                                    </div>
                                </div> -->
                            <!-- Comment Row -->
                            <!-- <div class="d-flex flex-row comment-row">
                                    <div class="p-2">
                                        <img src="./assets/images/users/5.jpg" alt="user" width="50"
                                            class="rounded-circle">
                                    </div>
                                    <div class="comment-text w-100">
                                        <h6 class="font-medium">Johnathan Doeting</h6>
                                        <span class="mb-3 d-block">Lorem Ipsum is simply dummy text of the printing
                                            and type setting industry. </span>
                                        <div class="comment-footer">
                                            <span class="text-muted float-end">April 14, 2021</span>
                                            <span class="label label-rounded label-danger">Rejected</span>
                                            <span class="action-icons">
                                                <a href="javascript:void(0)">
                                                    <i class="ti-pencil-alt"></i>
                                                </a>
                                                <a href="javascript:void(0)">
                                                    <i class="ti-check"></i>
                                                </a>
                                                <a href="javascript:void(0)">
                                                    <i class="ti-heart"></i>
                                                </a>
                                            </span>
                                        </div>
                                    </div>
                                </div> -->
                            <!-- Comment Row -->
                            <div class="d-flex flex-row comment-row mt-0">
                                <!-- <div class="p-2">
                                        <img src="./assets/images/users/2.jpg" alt="user" width="50"
                                            class="rounded-circle">
                                    </div> -->
                                <!-- <div class="comment-text w-100">
                                        <h6 class="font-medium">Steve Jobs</h6>
                                        <span class="mb-3 d-block">Lorem Ipsum is simply dummy text of the printing
                                            and type setting industry. </span>
                                        <div class="comment-footer">
                                            <span class="text-muted float-end">April 14, 2021</span>
                                            <span class="label label-rounded label-primary">Pending</span>
                                            <span class="action-icons">
                                                <a href="javascript:void(0)">
                                                    <i class="ti-pencil-alt"></i>
                                                </a>
                                                <a href="javascript:void(0)">
                                                    <i class="ti-check"></i>
                                                </a>
                                                <a href="javascript:void(0)">
                                                    <i class="ti-heart"></i>
                                                </a>
                                            </span>
                                        </div>
                                    </div> -->
                            </div>
                        </div>
                    </div>
                </div>
                <!-- column -->
                <div class="col-lg-6">
                    <div class="card">
                        <!-- <div class="card-body">
                                <h4 class="card-title">Temp Guide</h4>
                                <div class="d-flex align-items-center flex-row mt-4">
                                    <div class="display-5 text-info"><i class="wi wi-day-showers"></i>
                                        <span>73<sup>°</sup></span></div>
                                    <div class="ms-2">
                                        <h3 class="mb-0">Saturday</h3><small>Ahmedabad, India</small>
                                    </div>
                                </div>
                                <table class="table no-border mini-table mt-3">
                                    <tbody>
                                        <tr>
                                            <td class="text-muted">Wind</td>
                                            <td class="font-medium">ESE 17 mph</td>
                                        </tr>
                                        <tr>
                                            <td class="text-muted">Humidity</td>
                                            <td class="font-medium">83%</td>
                                        </tr>
                                        <tr>
                                            <td class="text-muted">Pressure</td>
                                            <td class="font-medium">28.56 in</td>
                                        </tr>
                                        <tr>
                                            <td class="text-muted">Cloud Cover</td>
                                            <td class="font-medium">78%</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <ul class="row list-style-none text-center mt-4">
                                    <li class="col-3">
                                        <h4 class="text-info"><i class="wi wi-day-sunny"></i></h4>
                                        <span class="d-block text-muted">09:30</span>
                                        <h3 class="mt-1">70<sup>°</sup></h3>
                                    </li>
                                    <li class="col-3">
                                        <h4 class="text-info"><i class="wi wi-day-cloudy"></i></h4>
                                        <span class="d-block text-muted">11:30</span>
                                        <h3 class="mt-1">72<sup>°</sup></h3>
                                    </li>
                                    <li class="col-3">
                                        <h4 class="text-info"><i class="wi wi-day-hail"></i></h4>
                                        <span class="d-block text-muted">13:30</span>
                                        <h3 class="mt-1">75<sup>°</sup></h3>
                                    </li>
                                    <li class="col-3">
                                        <h4 class="text-info"><i class="wi wi-day-sprinkle"></i></h4>
                                        <span class="d-block text-muted">15:30</span>
                                        <h3 class="mt-1">76<sup>°</sup></h3>
                                    </li>
                                </ul>
                            </div> -->
                    </div>

                </div>
            </div>
            <!-- ============================================================== -->
            <!-- Recent comment and chats -->
            <!-- ============================================================== -->
        </div>
        <!-- ============================================================== -->
        <!-- End Container fluid  -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- footer -->
        <!-- ============================================================== -->
        <!-- <footer class="footer text-center">
                All Rights Reserved by Nice admin. Designed and Developed by
                <a href="https://www.wrappixel.com">WrapPixel</a>.
            </footer> -->
        <!-- ============================================================== -->
        <!-- End footer -->
        <!-- ============================================================== -->
    </div>
    <!-- ============================================================== -->
    <!-- End Page wrapper  -->
    <!-- ============================================================== -->
    </div>
    <!-- ============================================================== -->
    <!-- End Wrapper -->
    <!-- ============================================================== -->
    <!-- ============================================================== -->
    <!-- All Jquery -->
    <!-- ============================================================== -->
    <script src="./assets/libs/jquery/dist/jquery.min.js"></script>
    <!-- Bootstrap tether Core JavaScript -->
    <script src="./assets/libs/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <!-- slimscrollbar scrollbar JavaScript -->
    <script src="./assets/extra-libs/sparkline/sparkline.js"></script>
    <!--Wave Effects -->
    <script src="./dist/js/waves.js"></script>
    <!--Menu sidebar -->
    <script src="./dist/js/sidebarmenu.js"></script>
    <!--Custom JavaScript -->
    <script src="./dist/js/custom.min.js"></script>
    <!--This page JavaScript -->
    <!--chartis chart-->
    <script src="./assets/libs/chartist/dist/chartist.min.js"></script>
    <script src="./assets/libs/chartist-plugin-tooltips/dist/chartist-plugin-tooltip.min.js"></script>
    <script src="./dist/js/pages/dashboards/dashboard1.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>



    <script>
        $(document).ready(function () {
            loadLeadTable();
            getALlLeadData();
        });
        function loadLeadTable() {
            $.ajax({
                url: "http://127.0.0.1:9000/proxy?url=http://127.0.0.1:8080/lead/top6",
                method: "GET",
                dataType: "json",
                success: function (response) {
                    if (response && response.data) {
                        displayLeads(response.data);
                    }
                },
                error: function (xhr, status, error) {
                    console.log(error);
                }
            });
        }
        function getALlLeadData() {

            $("#Approved-count").html("");
            $("#Declined-count").html("");
            $("#Pending-count").html("");


            $.ajax({
                url: "http://127.0.0.1:9000/proxy?url=http://127.0.0.1:8080/lead/graph",
                method: "GET",
                dataType: "json",

                success: function (response) {
                    var this_data = response;
                    var ap_count = 0;
                    var decl_count = 0;
                    var pend_count = 0;
                    console.log()
                    for (let i = 0; i < this_data.length; i++) {
                        if (this_data[i] == "Approved") {
                            ap_count = ap_count + 1;
                        }
                        else if (this_data[i] == "Declined") {
                            decl_count = decl_count + 1;
                        }
                        else (this_data[i] == "Pending")
                        {
                            pend_count = pend_count + 1;
                        }
                    }
                    $("#Approved-count").html(ap_count);
                    $("#Declined-count").html(decl_count);
                    $("#Pending-count").html(pend_count);
                    $("#lead-count").html(this_data.length);


                    var chart = new Chartist.Pie('.sales', {
                        // series: [ap_count, decl_count, pend_count],
                        series: [{ value: ap_count, className: 'approved_css' }, { value: decl_count, className: 'declined_css' }, { value: pend_count, className: 'pending_css' }],
                        labels: [ap_count, decl_count, pend_count]
                    }, {
                        donut: true,
                        showLabel: true
                    });

                    chart.on('draw', function (data) {
                        if (data.type == 'slice') {
                            // Get the total path length in order to use for dash array animation
                            var pathLength = data.element._node.getTotalLength();

                            // Set a dasharray that matches the path length as prerequisite to animate dashoffset
                            data.element.attr({
                                'stroke-dasharray': pathLength + 'px ' + pathLength + 'px'
                            });

                            // Create animation definition while also assigning an ID to the animation for later sync usage
                            var animationDefinition = {
                                'stroke-dashoffset': {
                                    id: 'anim' + data.index,
                                    dur: 1000,
                                    from: -pathLength + 'px',
                                    to: '0px',
                                    easing: Chartist.Svg.Easing.easeOutQuint,
                                    // We need to use `fill: 'freeze'` otherwise our animation will fall back to initial (not visible)
                                    fill: 'freeze'
                                }
                            };

                            // If this was not the first slice, we need to time the animation so that it uses the end sync event of the previous animation
                            if (data.index !== 0) {
                                animationDefinition['stroke-dashoffset'].begin = 'anim' + (data.index - 1) + '.end';
                            }

                            // We need to set an initial value before the animation starts as we are not in guided mode which would do that for us
                            data.element.attr({
                                'stroke-dashoffset': -pathLength + 'px'
                            });

                            // We can't use guided mode as the animations need to rely on setting begin manually
                            // See http://gionkunz.github.io/chartist-js/api-documentation.html#chartistsvg-function-animate
                            data.element.animate(animationDefinition, false);
                        }
                    });
                },
                error: function (xhr, status, error) {
                    console.log(error);
                }
            });
        }
        //     success: function(response) {
        //             if (response) {
        //                 displayLeads(response);
        //             }
        //         },
        //         error: function(xhr, status, error) {
        //             console.error(error);
        //         }
        //     });
        // }

        function displayLeads(leads) {
        
            var tableBody = $('#leadTable tbody');
            tableBody.empty();
            leads.forEach(function (lead) {

                const timestamp = lead.created_at;

                // Extract the date and time components
                const dateComponent = timestamp.split('T')[0];
                const timeComponent = timestamp.split('T')[1].split('Z')[0];

                // Format the desired date and time
                const createDate = `${dateComponent} ${timeComponent}`;

                const timestamps = lead.last_modified;

                // Extract the date and time components
                const dateComponents = timestamps.split('T')[0];
                const timeComponents = timestamps.split('T')[1].split('Z')[0];

                // Format the desired date and time

                const lastmod = `${dateComponents} ${timeComponents}`;

                // Format the date and time without specifying a time zone

                var row = $('<tr></tr>');

                row.append('<td>' + lead.user_name + '</td>');
               
                row.append('<td>' + lead.loan_type + '</td>');
              
                row.append('<td>' + lead.employment_type + '</td>');
                row.append('<td>' + lead.loan_amount + '</td>');
                row.append('<td> <button type="button" class="btn ' + getStatusButtonClass(lead.status) + '">' + getStatusLabel(lead.status) + '</button></td>');
                // row.append('<td>' + createDate + '</td>');
               // row.append('<td> <button type="button" class="btn btn-warning">' + lead.status + '</button></td>');


                tableBody.append(row);
            });
        } 
        function getStatusButtonClass(status) {
            switch (status) {
                case 'Approved':
                    return 'btn-success'; // Green for approved
                case 'Declined':
                    return 'btn-danger';  // Red for declined
                default:
                    return 'btn-warning'; // Yellow for pending
            }
        }
        
        function getStatusLabel(status) {
            switch (status) {
                case'Approved':
                    return 'Approved';
                case 'Declined':
                    return 'Declined';
                default:
                    return 'Pending';
            }
        }
       
        
        
        
        
        
       
    </script>
    <script>
        function updateLeadCount() {
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    var response = JSON.parse(xhr.responseText);
                    var leadCountElement = document.getElementById('lead-count');
                    leadCountElement.textContent = response.total;

                    var approvedCountElement = document.getElementById('approved-count');
                    approvedCountElement.textContent = response.approved;

                    var declinedCountElement = document.getElementById('declined-count');
                    declinedCountElement.textContent = response.declined;
                }
            };
            xhr.open('GET', 'http://127.0.0.1:9000/proxy?url=http://127.0.0.1:8080/lead/count', true);
            xhr.send();
        }

        updateLeadCount();
    </script>

    <script>
        function updateLoanCount() {
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    var response = JSON.parse(xhr.responseText);
                    var leadCountElement = document.getElementById('loan-count');
                    leadCountElement.textContent = response;


                }
            };
            xhr.open('GET', 'http://127.0.0.1:9000/proxy?url=http://127.0.0.1:8080/loan/count', true);
            xhr.send();
        }

        updateLoanCount();
        function updateUserCount() {
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    var response = JSON.parse(xhr.responseText);
                    var leadCountElement = document.getElementById('user-count');
                    leadCountElement.textContent = response;


                }
            };
            xhr.open('GET', 'http://127.0.0.1:9000/proxy?url=http://127.0.0.1:8080/user/count', true);
            xhr.send();
        }

        updateUserCount();
    </script>

    <!-- <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    function updateLeadGraph() {
      var xhr = new XMLHttpRequest();
      xhr.onreadystatechange = function() {
        if (xhr.readyState === 4) {
          if (xhr.status === 200) {
            var response = JSON.parse(xhr.responseText);
            plotGraph(response);
          } else {
            console.log('Error: ' + xhr.status);
          }
        }
      };
      xhr.open('GET', 'http://127.0.0.1:9000/proxy?url=http://127.0.0.1:8080/lead/graph', true);
      xhr.send();
    }
  
    function plotGraph(response) {
      var labels = response.labels;
      var data = response.data;
      var status = response.status; // Assuming the status is received as an array
  
      var datasets = [{
        label: 'Sales Ratio',
        data: data,
        backgroundColor: status.map(function(s) {
          return s === 'Approved' ? 'rgba(54, 162, 235, 0.2)' : 'rgba(255, 255, 255, 0.2)';
        }),
        borderColor: status.map(function(s) {
          return s === 'Declined' ? 'rgba(54, 162, 235, 1)' : 'rgba(255, 255, 255, 1)';
        }),
        borderWidth: 1
      }];
  
      var ctx = document.getElementById('lead-graph').getContext('2d');
      var chart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: labels,
          datasets: datasets
        },
        options: {
          scales: {
            x: {
              display: true,
              title: {
                display: true,
                text: 'Data'
              }
            },
            y: {
              display: true,
              title: {
                display: true,
                text: 'new leads'
              }
            }
          }
        }
      });
    }
  
    updateLeadGraph();
  </script> -->

    <script>
        // Function to handle logout
        function logout() {
            $.ajax({
                method: 'DELETE', // Change the method to POST if needed based on your server implementation
                url: '/admin/logout', // Replace '/logout' with the appropriate URL for the LogOut endpoint
                headers: {
                    'Authorization': 'Bearer ' + getCookie('token'),

                },
                dataType: 'json',
                success: function (response) {
                    if (response) {
                        //cookie delete
                        //setCookie('token','',0  
                        //document.cookie = "session_id=;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/";
                        //document.cookie = "token=;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/";
                        document.cookie = 'token' + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;';
                        document.cookie = "id=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/";

                        // On successful logout, redirect to the login page
                        window.location.assign('http://localhost:9000/form/admin.html');
                        //window.location.href = ''; // Replace the URL with your login page URL
                    }
                    else {
                        //error handle
                    }
                },
                //  error: function(jqXHR, textStatus, errorThrown) {
                // //  Handle the error, if any
                //  console.log('Logout failed:', errorThrown);
                //  }
            });
        }
        function setCookie(cname, cvalue, exMins) {
            var d = new Date();
            d.setTime(d.getTime() + (exMins * 60 * 1000));
            var expires = "expires=" + d.toUTCString();
            document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
        }
        // Function to get the JWT token from the cookie
        function getCookie(name) {
            const value = "; " + document.cookie;
            const parts = value.split("; " + name + "=");
            if (parts.length == 2) return parts.pop().split(";").shift();
        }

        // Bind click event to the logout button
        $(document).ready(function () {
            $("#logoutButton").click(function () {
                logout();
            });
        });
    </script>

</body>

</html>